INFO: 2024/05/06 19:08:10 webhook.go:70: New configuration: sha256sum e73e73a2f1de3ca8fb64a99fd52cc574781b589052817905770201e4a38dae2e
INFO: 2024/05/06 19:08:10 webhookconfig.go:22: Initializing the kube client...
W0506 19:08:10.408967       1 client_config.go:659] Neither --kubeconfig nor --master was specified.  Using the inClusterConfig.  This might not work.
INFO: 2024/05/06 19:08:10 webhookconfig.go:35: Creating or updating the mutatingwebhookconfiguration: filer-sidecar-injector-webhook
INFO: 2024/05/06 19:08:10 webhookconfig.go:82: Created mutatingwebhookconfiguration: filer-sidecar-injector-webhook
INFO: 2024/05/06 19:08:46 webhook.go:272: AdmissionReview for Kind=/v1, Kind=Pod, Namespace=jose-matsuda Name=standalone-test-pod (standalone-test-pod) 
INFO: 2024/05/06 19:08:46 webhook.go:91: jose-matsuda TESTING IMAGE
INFO: 2024/05/06 19:08:46 webhook.go:230: Found a secret to use, #:3
INFO: 2024/05/06 19:08:46 webhook.go:253: All patches appended for:fld9-s3-patfiler-conn-secret
INFO: 2024/05/06 19:08:46 webhook.go:230: Found a secret to use, #:4
INFO: 2024/05/06 19:08:46 webhook.go:253: All patches appended for:fld9filer-conn-secret
INFO: 2024/05/06 19:08:46 webhook.go:285: --- All patches created ---
INFO: 2024/05/06 19:08:46 webhook.go:294: AdmissionResponse: patch=[{"op":"add","path":"/spec/containers/-","value":{"name":"s3pat-bucket-containers","image":"artifactory.cloud.statcan.ca/das-aaw-docker/mfcp-proxy-goofys-multi-inc:5gb","command":["/bin/bash"],"args":["-c","/goofys --cheap --endpoint https://fld9.s3.cloud.statcan.ca --http-timeout 1500s --dir-mode 0777 --file-mode 0777  --debug_fuse --debug_s3 -o allow_other -f s3pat/ /tmp"],"env":[{"name":"FUSERMOUNT3PROXY_FDPASSING_SOCKPATH","value":"/fusermount3-proxy/fuse-csi-ephemeral.sock"},{"name":"AWS_ACCESS_KEY_ID","value":"aasd"},{"name":"AWS_SECRET_ACCESS_KEY","value":"asd"}],"resources":{},"volumeMounts":[{"name":"fuse-fd-passing-4","mountPath":"/fusermount3-proxy"}],"imagePullPolicy":"IfNotPresent"}},{"op":"add","path":"/spec/volumes/-","value":{"name":"fuse-fd-passing-3","emptyDir":{}}},{"op":"add","path":"/spec/volumes/-","value":{"name":"fuse-csi-ephemeral-3","csi":{"driver":"meta-fuse-csi-plugin.csi.storage.pfn.io","readOnly":false,"volumeAttributes":{"fdPassingEmptyDirName":"fuse-fd-passing-4","fdPassingSocketName":"fuse-csi-ephemeral.sock"}}}},{"op":"add","path":"/metadata/annotations","value":{"filer-injector-webhook.das-zone.statcan/status":"injected"}},{"op":"add","path":"/spec/containers/volumeMounts/-","value":{"mountPath":"/home/jovyan/s3pat","mountPropagation":"HostToContainer","name":"fuse-csi-ephemeral-3","readOnly":"false"}},


{"op":"add","path":"/spec/containers/-","value":{"name":"s3bucket-bucket-containers","image":"artifactory.cloud.statcan.ca/das-aaw-docker/mfcp-proxy-goofys-multi-inc:5gb","command":["/bin/bash"],"args":["-c","/goofys --cheap --endpoint https://fld9.s3.cloud.statcan.ca --http-timeout 1500s --dir-mode 0777 --file-mode 0777  --debug_fuse --debug_s3 -o allow_other -f s3bucket/ /tmp"],"env":[{"name":"FUSERMOUNT3PROXY_FDPASSING_SOCKPATH","value":"/fusermount3-proxy/fuse-csi-ephemeral.sock"},{"name":"AWS_ACCESS_KEY_ID","value":"asdsa"},{"name":"AWS_SECRET_ACCESS_KEY","value":"asdasd"}],"resources":{},"volumeMounts":[{"name":"fuse-fd-passing-4","mountPath":"/fusermount3-proxy"}],"imagePullPolicy":"IfNotPresent"}},{"op":"add","path":"/spec/volumes/-","value":{"name":"fuse-fd-passing-4","emptyDir":{}}},{"op":"add","path":"/spec/volumes/-","value":{"name":"fuse-csi-ephemeral-4","csi":{"driver":"meta-fuse-csi-plugin.csi.storage.pfn.io","readOnly":false,"volumeAttributes":{"fdPassingEmptyDirName":"fuse-fd-passing-4","fdPassingSocketName":"fuse-csi-ephemeral.sock"}}}},{"op":"add","path":"/metadata/annotations","value":{"filer-injector-webhook.das-zone.statcan/status":"injected"}},{"op":"add","path":"/spec/containers/volumeMounts/-","value":{"mountPath":"/home/jovyan/s3bucket","mountPropagation":"HostToContainer","name":"fuse-csi-ephemeral-4","readOnly":"false"}}]
INFO: 2024/05/06 19:08:46 webhook.go:358: Ready to write reponse ...
