INFO: 2024/05/07 18:32:29 webhook.go:69: New configuration: sha256sum e73e73a2f1de3ca8fb64a99fd52cc574781b589052817905770201e4a38dae2e
INFO: 2024/05/07 18:32:29 webhookconfig.go:22: Initializing the kube client...
W0507 18:32:29.243521       1 client_config.go:659] Neither --kubeconfig nor --master was specified.  Using the inClusterConfig.  This might not work.
INFO: 2024/05/07 18:32:29 webhookconfig.go:35: Creating or updating the mutatingwebhookconfiguration: filer-sidecar-injector-webhook
INFO: 2024/05/07 18:32:29 webhookconfig.go:82: Created mutatingwebhookconfiguration: filer-sidecar-injector-webhook
INFO: 2024/05/07 18:43:07 webhook.go:321: AdmissionReview for Kind=/v1, Kind=Pod, Namespace=jose-matsuda Name=standalone-test-pod (standalone-test-pod) map[oid:[]]}
INFO: 2024/05/07 18:43:07 webhook.go:90: jose-matsuda TESTING IMAGE
INFO: 2024/05/07 18:43:07 webhook.go:301: All patches appended for:fld9-s3-patfiler-conn-secret
INFO: 2024/05/07 18:43:07 webhook.go:301: All patches appended for:fld9filer-conn-secret
INFO: 2024/05/07 18:43:07 webhook.go:334: --- All patches created ---
INFO: 2024/05/07 18:43:07 webhook.go:343: 
AdmissionResponse: patch=[
    
{"op":"add","path":"/spec/containers/-","value":{"name":"s3pat-bucket-containers","image":"artifactory.cloud.statcan.ca/das-aaw-docker/mfcp-proxy-goofys-multi-inc:5gb","command":["/bin/bash"],"args":["-c","/goofys --cheap --endpoint https://fld9.s3.cloud.statcan.ca --http-timeout 1500s --dir-mode 0777 --file-mode 0777  --debug_fuse --debug_s3 -o allow_other -f s3pat/ /tmp"],"env":[{"name":"FUSERMOUNT3PROXY_FDPASSING_SOCKPATH","value":"/fusermount3-proxy/fuse-csi-ephemeral.sock"},{"name":"AWS_ACCESS_KEY_ID","value":"s"},{"name":"AWS_SECRET_ACCESS_KEY","value":"s"}],"resources":{},"volumeMounts":[{"name":"fuse-fd-passing-s3bucket","mountPath":"/fusermount3-proxy"}],"imagePullPolicy":"IfNotPresent"}},

{"op":"add","path":"/spec/volumes/-","value":{"name":"fuse-fd-passing-s3pat","emptyDir":{}}},

{"op":"add","path":"/spec/volumes/-","value":{"name":"fuse-csi-ephemeral-s3pat","csi":{"driver":"meta-fuse-csi-plugin.csi.storage.pfn.io","readOnly":false,"volumeAttributes":{"fdPassingEmptyDirName":"fuse-fd-passing-s3bucket","fdPassingSocketName":"fuse-csi-ephemeral.sock"}}}},

{"op":"add","path":"/metadata/annotations","value":{"filer-injector-webhook.das-zone.statcan/status":"injected"}},

{"op":"add","path":"/spec/containers/0/volumeMounts","value":{"mountPath":"/home/jovyan/s3pat","mountPropagation":"HostToContainer","name":"fuse-csi-ephemeral-s3pat","readOnly":"false"}},


{"op":"add","path":"/spec/containers/-","value":{"name":"s3bucket-bucket-containers","image":"artifactory.cloud.statcan.ca/das-aaw-docker/mfcp-proxy-goofys-multi-inc:5gb","command":["/bin/bash"],"args":["-c","/goofys --cheap --endpoint https://fld9.s3.cloud.statcan.ca --http-timeout 1500s --dir-mode 0777 --file-mode 0777  --debug_fuse --debug_s3 -o allow_other -f s3bucket/ /tmp"],"env":[{"name":"FUSERMOUNT3PROXY_FDPASSING_SOCKPATH","value":"/fusermount3-proxy/fuse-csi-ephemeral.sock"},{"name":"AWS_ACCESS_KEY_ID","value":"s"},{"name":"AWS_SECRET_ACCESS_KEY","value":"s"}],"resources":{},"volumeMounts":[{"name":"fuse-fd-passing-s3bucket","mountPath":"/fusermount3-proxy"}],"imagePullPolicy":"IfNotPresent"}},

{"op":"add","path":"/spec/volumes/-","value":{"name":"fuse-fd-passing-s3bucket","emptyDir":{}}},

{"op":"add","path":"/spec/volumes/-","value":{"name":"fuse-csi-ephemeral-s3bucket","csi":{"driver":"meta-fuse-csi-plugin.csi.storage.pfn.io","readOnly":false,"volumeAttributes":{"fdPassingEmptyDirName":"fuse-fd-passing-s3bucket","fdPassingSocketName":"fuse-csi-ephemeral.sock"}}}},

{"op":"add","path":"/metadata/annotations","value":{"filer-injector-webhook.das-zone.statcan/status":"injected"}},

{"op":"add","path":"/spec/containers/0/volumeMounts/-","value":{"mountPath":"/home/jovyan/s3bucket","mountPropagation":"HostToContainer","name":"fuse-csi-ephemeral-s3bucket","readOnly":"false"}}]
INFO: 2024/05/07 18:43:07 webhook.go:407: Ready to write reponse ...
